/* @license GNU-GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal,once){'use strict';Drupal.webform=Drupal.webform||{};Drupal.webform.counter=Drupal.webform.counter||{};Drupal.webform.counter.options=Drupal.webform.counter.options||{};Drupal.behaviors.webformCounter={attach:function(context){if(!$.fn.textcounter)return;$(once('webform-counter','.js-webform-counter',context)).each(function(){var options={type:$(this).data('counter-type'),max:$(this).data('counter-maximum'),min:$(this).data('counter-minimum')||0,counterText:$(this).data('counter-minimum-message'),countDownText:$(this).data('counter-maximum-message'),inputErrorClass:'webform-counter-warning',counterErrorClass:'webform-counter-warning',countSpaces:true,twoCharCarriageReturn:true,stopInputAtMaximum:false,minimumErrorText:'',maximumErrorText:''};options.countDown=(options.max)?true:false;if(!options.counterText)options.counterText=(options.type==='word')?Drupal.t('%d word(s) entered'):Drupal.t('%d character(s) entered');if(!options.countDownText)options.countDownText=(options.type==='word')?Drupal.t('%d word(s) remaining'):Drupal.t('%d character(s) remaining');options=$.extend(options,Drupal.webform.counter.options);$(this).textcounter(options);});}};})(jQuery,Drupal,once);;
(function($,Drupal,drupalSettings,once){'use strict';Drupal.webform=Drupal.webform||{};Drupal.webform.intlTelInput=Drupal.webform.intlTelInput||{};Drupal.webform.intlTelInput.options=Drupal.webform.intlTelInput.options||{};Drupal.behaviors.webformTelephoneInternational={attach:function(context){if(!$.fn.intlTelInput)return;$(once('webform-telephone-international','input.js-webform-telephone-international',context)).each(function(){var $telephone=$(this);var $error=$('<strong class="error form-item--error-message">'+Drupal.t('Invalid phone number')+'</strong>').hide();$telephone.closest('.js-form-item').append($error);var options={utilsScript:drupalSettings.webform.intlTelInput.utilsScript,nationalMode:false};if($telephone.attr('data-webform-telephone-international-initial-country'))options.initialCountry=$telephone.attr('data-webform-telephone-international-initial-country');if($telephone.attr('data-webform-telephone-international-preferred-countries'))options.preferredCountries=JSON.parse($telephone.attr('data-webform-telephone-international-preferred-countries'));options=$.extend(options,Drupal.webform.intlTelInput.options);$telephone.intlTelInput(options);var reset=function(){$telephone.removeClass('error');$error.hide();};var validate=function(){if($.trim($telephone.val()))if(!$telephone.intlTelInput('isValidNumber')){$telephone.addClass('error');var placeholder=$telephone.attr('placeholder');var message;if(placeholder)message=Drupal.t('The phone number is not valid. (e.g. @example)',{'@example':placeholder});else message=Drupal.t('The phone number is not valid.');$error.html(message).show();return false;}return true;};$telephone.on('blur',function(){reset();validate();});$telephone.on('keyup change',reset);var $form=$(this.form);$form.on('submit',function(event){if(!validate()){$telephone.focus();event.preventDefault();if(Drupal.behaviors.webformSubmitOnce)Drupal.behaviors.webformSubmitOnce.clear();}});});}};})(jQuery,Drupal,drupalSettings,once);;
